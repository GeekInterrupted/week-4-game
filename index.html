<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Crystal Colletors Game - Olga O'Neal Homework</title>
    <style type="text/css">

    .crystal-image {
      width: 150px;
      height: 150px;
    }
  </style>

  <!-- Bootstrap File -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <!-- JQuery -->
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
 
</head>
<body>

  <!-- Overall Bootstrap Grid -->
  <div class="container">

    <!-- Jumbotron with Title -->
    <div class="jumbotron">
      <h3 class="text-center"><strong>CRYSTALS COLLECTORS GAME</strong></h3>

    </div>
    <div class="row"> <!--begin of row 1 -->
    
    <div class = "col-lg-6">
       
       <!-- Game Instructions -->
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title"><strong>INSTRUCTIONS</strong></h3>
          </div>
          <div class="panel-body">
            <div class="text-left">
             <p>You will be given a random number at the start of the game.<br>
             There are four crystals below.  By clicking on a crystal you will add a specific amount of points to your total score.<br>
             You win the game by matching your total score to random number, you lose the game if your total score goes above the random number.<br>
             The value of each crystal is hidden from you until you click on it.<br>
             Each time when the game starts, the game will change the values of each crystal.</p>
             <h3>Good Luck!</h3>
              
            </div>
          </div>
        </div> <!--panel-->        
        
    
    </div>
        
    <div class = "col-lg-6">
       
       <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title"><strong>GAME STATS</strong></h3>
          </div>
          <div class="panel-body">
            <div class="text-left">
             <h2 id = "generated-random-number">COMPUTER CHOICE</h2>
             <hr>
             <h2 id = "crystal-points-total">Score: </h2>
             <h2 id = "wins">Wins: </h2>
             <h2 id = "losses">Losses: </h2>
            </div>
          </div>
        </div> <!--panel-->
    </div>
    
    </div> <!-- end of row 1 -->
    
    <div class = "row"> <!-- begin row 2 -->
       
       <div class = "col-lg-12">
           
        <!-- Crystal selections -->
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title"><strong>YOUR CHOICES</strong></h3>
          </div>
          <div class="panel-body">
            <div class="text-center">
             <div id = "crystals">
             </div>
            </div>
          </div>
        </div> <!--panel-->   
       </div>
    </div> <!-- end row 2 -->
    


<script type="text/javascript">

$(document).ready(function() {

var crystalImagesArray = [
        "assets/images/crystal01.png",
        "assets/images/crystal02.png",
        "assets/images/crystal03.png",
        "assets/images/crystal04.png",
    ];
var computerRandomNumber = 0;
var crystalValuesArray = [];
var crystalPoints = 0;
var wins = 0;
var losses = 0;

//Function to generate random numbers for computer choice and crystals
    
function generateRandomNumber(maxValue, minValue) {
    var randomNumber = Math.floor(Math.random() * (maxValue - minValue + 1)) + minValue;
    return randomNumber;      
}

function updateScore() {
//    console.log("test counter", crystalPoints);
    $("#crystal-points-total").html("Score: " + crystalPoints);
    }
    


function initGame() {
//initial score - counter of cumulative crystal points
    crystalPoints = 0;
    $("#crystal-points-total").html("Score: ");
//random number to guess    
    var minValue = 19;
    var maxValue = 120;
    var computerRandomNumber = generateRandomNumber(maxValue, minValue);
    $("#generated-random-number").html(computerRandomNumber);
//random numbers assigned to crystals    
    var minValue = 1;
    var maxValue = 12;
    var crystalValuesArray = [];
    for (j = 0; j < 4; j++) {
        crystalValuesArray.push(generateRandomNumber(maxValue, minValue));
        console.log(crystalValuesArray);
        }
//insert crystals for the values generated
    for (var i = 0; i < crystalImagesArray.length; i++) {
        var imageCrystal = $("<img>");
        imageCrystal.addClass("crystal-image");
        imageCrystal.attr("src", crystalImagesArray[i]);
        imageCrystal.attr("data-crystal-value", crystalValuesArray[i]);
        $("#crystals").append(imageCrystal);
    }
        
//crystal score adds up when user clicks a crystal     
        $(".crystal-image").on("click", function() {
            var crystalValue = ($(this).attr("data-crystal-value"));
            crystalValue = parseInt(crystalValue);
            crystalPoints += crystalValue;
            updateScore();
            console.log(crystalPoints);
//compare user's cumulative points vs computer's number            
            if (crystalPoints === computerRandomNumber) {
                wins ++;                
                $("#wins").html("Wins: " + wins);
                $("#crystals").empty();
                initGame();
            } else if (crystalPoints >= computerRandomNumber) {
                losses ++;
                $("#losses").html("Losses: " + losses);
                 $("#crystals").empty();
                initGame();
            }

}) //end on click function

}
        
initGame(); 

});  //end ready
    
  </script>

</body>
</html>
